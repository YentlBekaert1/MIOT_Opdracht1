(()=>{var e={320:(e,t,s)=>{const o=s(860).Router();o.get("/",((e,t,s)=>{t.status(200).json({message:"Handling GET requests to /activities"})})),o.post("/",((e,t,s)=>{t.status(201).json({message:"Handling POST requests to /activities"})})),o.get("/:activitiesId",((e,t,s)=>{const o=e.params.productId;"special"===o?t.status(200).json({message:"You discovered the special ID",id:o}):t.status(200).json({message:"You passed an ID"})})),o.patch("/:activitiesId",((e,t,s)=>{t.status(200).json({message:"Updated product!"})})),o.delete("/:activitiesId",((e,t,s)=>{t.status(200).json({message:"Deleted product!"})})),e.exports=o},860:e=>{"use strict";e.exports=require("express")}},t={};function s(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,s),i.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=require("path");var t=s.n(e),o=s(860),n=s.n(o);const i=require("web-push");var r=s.n(i);let a,d=[],c=15;const l=s(320),p=n()(),u=__dirname,g=t().join(u,"index.html");p.use(n().static(u)),p.get("/",((e,t)=>{t.sendFile(g)})),p.get("/get",((e,t)=>{t.json("test")})),p.get("/calendar",((e,t)=>{t.sendFile(g)})),p.get("/foodcorner",((e,t)=>{t.sendFile(g)})),p.get("/weather",((e,t)=>{t.sendFile(g)})),p.get("/performances",((e,t)=>{t.sendFile(g)})),p.use("/activities",l);function f(e){a=null;const t="Peggy wants a pretzel! You have "+c+" seconds to feed her!";r().sendNotification(e,t).then((function(){console.log("Notification sent")})).catch((function(e){console.log("Error sending Notification"+e),d.splice(d.indexOf(endpoint),1)}))}function h(){a=setTimeout((()=>{console.log("timeleft: ",c),d.forEach(f)}),1e3*c)}r().setVapidDetails("mailto:dennissheppard+pwa@gmail.com","BCi3AfGJVfxoDOB3JGMbvyAzOBJ8KiqRrUn6OhYaWsfUrwOq6h9hI1x464AQaVyaNFhAGNi0thYCtSxRmy0P8SI","tjl2sNdpoiLYqUhR_TjSSZNq1U2fcBNw2LT76C_nCOM"),p.post("/register",((e,t)=>{if(!e.body||!e.body.endpoint)return t.status(400),t.send("Invalid subscription"),!1;console.log("Subscription registered "+e.body.endpoint),d.some((t=>t.endpoint===e.body.endpoint))||d.push(e.body),a||h(),t.sendStatus(200)})),p.post("/feed",((e,t)=>{c=15,a||h(),t.sendStatus(200)}));const v=process.env.PORT||8080;p.listen(v,(()=>{console.log(`App listening to ${v}....`),console.log("Press Ctrl+C to quit.")}))})()})();